<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="/node_modules/jquery/dist/jquery.js" type="text/javascript" charset="UTF-8"></script>
    <script src="/node_modules/bootstrap/dist/js/bootstrap.js" type="text/javascript" charset="UTF-8"></script>
    <script src="/node_modules/showdown/dist/showdown.js" type="text/javascript" charset="UTF-8"></script>
    <link href="/node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet" charset="UTF-8"/>
    <link href="/public/css/create_main.css" rel="stylesheet" charset="UTF-8"/>
    <script src="/public/js/update_main.js" type="text/javascript" charset="UTF-8"></script>
    <title>更新随笔</title>
</head>
<body>
    <div id="main">
        <div id="otherMsg">
            <div id="title"><p>更新随笔</p></div>
            <div id="form">
                <input type="hidden" id="id" value="{{ essay.id }}"/>
                <table class="table">
                    <tbody>
                      <tr>
                        <td>随笔标题: </td>
                        <td><input type="text" id="essayTitle" value="{{ essay.title }}" placeholder="请输入随笔标题"/></td>
                        <td>创建者: </td>
                        <td><input type="text" id="essayCreator" placeholder="请输入作者" value="{{ essay.creator }}"/></td>
                      </tr>
                      <tr>
                        <td>令牌Key: </td>
                        <td><input type="text" id="key" placeholder="请输入令牌Key"/></td>
                        <td>令牌Value: </td>
                        <td><input type="password" id="value" placeholder="请输入令牌Value"/></td>
                      </tr>
                      <tr>
                        <td>
                            <div class="form-group form-check">
                                <input type="checkbox" class="form-check-input" id="isPassword" {{ essay.password === 'true' ? 'checked="checked"' : '' }}/>
                                <label class="form-check-label" for="isPassword">是否需要密码</label>
                            </div>
                        </td>
                        <td><input type="password" {{ essay.password === 'true' ? '' : 'disabled="disabled"' }} id="password" value="{{ password }}" placeholder="请输入密码"/></td>
                        <td>选择随笔类型: </td>
                        <td>
                            <select id="type">
                                {{ each types }}
                                <option id="{{ $value.id }}" {{ $value.id === essay.typeid ? 'selected="selected"' : '' }}>{{ $value.name }}</option>
                                {{ /each }}
                            </select>
                        </td>
                      </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div id="upload">
            <p><a href="/addition" target="_blank">上传图片/增加随笔类型</a></p>
        </div>
        <div id="main_container">
            <div class="content">
                <div class="tips"><h1>创作内容(支持MarkDown)</h1></div>
                <textarea  id="write">{{ essay.content }}</textarea>
            </div>
            <div class="content">
                <div class="tips"><h1>预览效果 (<a href="/allImages" target="_blank">查看全部图片</a>)</h1></div>
                <div id="show"></div>
            </div>
            <div class="clean"></div>
        </div>
        <div id="bottom">
            <div class="btn_div"><button id="submit" class="btn btn-primary">提交</button></div>
            <div class="btn_div"><button id="reset" class="btn btn-primary">清空</button></div>
            <div class="clean"></div>
        </div>
        <div id="footer">
            <p>欢迎访问本页面!</p>
        </div>
    </div>
</body>
</html>